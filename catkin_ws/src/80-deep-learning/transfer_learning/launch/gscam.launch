<launch>
  <arg name="veh" doc="Name of vehicle. ex: megaman"/>
  <arg name="cam_name" value="raspicam"/>
  
  <env name="GSCAM_CONFIG" value="udpsrc port=9000 ! application/x-rtp, payload=96 ! rtpjitterbuffer ! rtph264depay ! avdec_h264 ! videoconvert"/>
    <node pkg="gscam" type="gscam" name="$(arg cam_name)">
      <param name="camera_name" value="$(arg cam_name)"/>
      <param name="camera_info_url" value="file://$(env DUCKIEFLEET_ROOT)/calibrations/camera_intrinsic/$(arg veh).yaml"/>
      <remap from="camera/image_raw" to="$(arg cam_name)/image_raw"/>
    </node>

    <node ns="$(arg cam_name)" pkg="image_proc" type="image_proc" name="image_proc"/>
    <node pkg="transfer_learning" type="resize_node.py" name="resize_node">
      <remap from="~image" to="$(arg cam_name)/image_rect_color"/>
    </node>
    
</launch>
